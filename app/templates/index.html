{% extends "layout.html" %}
{% block content %}
<section class="card">
  <h2>Upload (small / medium files)</h2>
  <form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="file" required />
    <button type="submit">Upload</button>
  </form>
  <p class="muted">For very large files (10GB+), use the CLI uploader in README.</p>
</section>

<section class="card">
  <h2>Files</h2>
  {% if files %}
    <ul class="files">
      {% for name, meta in files.items() %}
        <li>
          <div class="left">
            <strong>{{ name }}</strong>
            <div class="muted">{{ meta.total_size }} bytes â€¢ {{ meta.chunks|length }} chunks</div>
          </div>
          <div class="right">
            <a class="btn" href="/stream/{{ name }}">Download / Stream</a>
            <a class="btn" href="/files/{{ name }}" target="_blank">Meta</a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No files yet.</p>
  {% endif %}
</section>

<section class="card">
  <h2>CLI Uploader</h2>
  <pre><code>python -m venv .venv && source .venv/bin/activate
pip install -r requirements.txt
python cli/uploader.py --file /path/huge.iso --name huge.iso --index-url https://&lt;your-app&gt;.koyeb.app</code></pre>
</section>
{% endblock %}

